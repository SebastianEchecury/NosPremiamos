{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { api as auth } from '../apis/auth';\nimport { api as users } from '../apis/users';\nconst slice = createSlice({\n  name: 'slice:auth',\n  initialState: {\n    token: '',\n    permissions: [],\n    name: ''\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addMatcher(auth.endpoints.login.matchFulfilled, (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.token = payload.token;\n      state.permissions = payload.permissions;\n    });\n    builder.addMatcher(auth.endpoints.logout.matchFulfilled, state => {\n      state.token = '';\n      state.permissions = [];\n      state.name = '';\n    });\n    builder.addMatcher(users.endpoints.getHeader.matchFulfilled, (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.name = payload.name;\n      state.permissions = payload.permissions;\n    });\n    builder.addMatcher(users.endpoints.getHeader.matchRejected, (state, _ref3) => {\n      let {\n        meta\n      } = _ref3;\n\n      if (!meta.condition) {\n        state.token = '';\n        state.permissions = [];\n        state.name = '';\n      }\n    });\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","api","auth","users","slice","name","initialState","token","permissions","reducers","extraReducers","builder","addMatcher","endpoints","login","matchFulfilled","state","payload","logout","getHeader","matchRejected","meta","condition","reducer"],"sources":["C:/Proyectos/NosPremiamos/ReactApp/src/redux/slices/auth.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { api as auth } from '../apis/auth';\r\nimport { api as users } from '../apis/users';\r\n\r\nconst slice = createSlice({\r\n  name: 'slice:auth',\r\n  initialState: { token: '', permissions: [], name: '' },\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder.addMatcher(auth.endpoints.login.matchFulfilled, (state, { payload }) => {\r\n      state.token = payload.token;\r\n      state.permissions = payload.permissions;\r\n    });\r\n    builder.addMatcher(auth.endpoints.logout.matchFulfilled, (state) => {\r\n      state.token = '';\r\n      state.permissions = [];\r\n      state.name = '';\r\n    });\r\n    builder.addMatcher(users.endpoints.getHeader.matchFulfilled, (state, { payload }) => {\r\n      state.name = payload.name;\r\n      state.permissions = payload.permissions;\r\n    });\r\n    builder.addMatcher(users.endpoints.getHeader.matchRejected, (state, { meta }) => {\r\n      if (!meta.condition) {\r\n        state.token = '';\r\n        state.permissions = [];\r\n        state.name = '';\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nexport default slice.reducer;"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,SAASC,GAAG,IAAIC,IAAhB,QAA4B,cAA5B;AACA,SAASD,GAAG,IAAIE,KAAhB,QAA6B,eAA7B;AAEA,MAAMC,KAAK,GAAGJ,WAAW,CAAC;EACxBK,IAAI,EAAE,YADkB;EAExBC,YAAY,EAAE;IAAEC,KAAK,EAAE,EAAT;IAAaC,WAAW,EAAE,EAA1B;IAA8BH,IAAI,EAAE;EAApC,CAFU;EAGxBI,QAAQ,EAAE,EAHc;EAIxBC,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CAACC,UAAR,CAAmBV,IAAI,CAACW,SAAL,CAAeC,KAAf,CAAqBC,cAAxC,EAAwD,CAACC,KAAD,WAAwB;MAAA,IAAhB;QAAEC;MAAF,CAAgB;MAC9ED,KAAK,CAACT,KAAN,GAAcU,OAAO,CAACV,KAAtB;MACAS,KAAK,CAACR,WAAN,GAAoBS,OAAO,CAACT,WAA5B;IACD,CAHD;IAIAG,OAAO,CAACC,UAAR,CAAmBV,IAAI,CAACW,SAAL,CAAeK,MAAf,CAAsBH,cAAzC,EAA0DC,KAAD,IAAW;MAClEA,KAAK,CAACT,KAAN,GAAc,EAAd;MACAS,KAAK,CAACR,WAAN,GAAoB,EAApB;MACAQ,KAAK,CAACX,IAAN,GAAa,EAAb;IACD,CAJD;IAKAM,OAAO,CAACC,UAAR,CAAmBT,KAAK,CAACU,SAAN,CAAgBM,SAAhB,CAA0BJ,cAA7C,EAA6D,CAACC,KAAD,YAAwB;MAAA,IAAhB;QAAEC;MAAF,CAAgB;MACnFD,KAAK,CAACX,IAAN,GAAaY,OAAO,CAACZ,IAArB;MACAW,KAAK,CAACR,WAAN,GAAoBS,OAAO,CAACT,WAA5B;IACD,CAHD;IAIAG,OAAO,CAACC,UAAR,CAAmBT,KAAK,CAACU,SAAN,CAAgBM,SAAhB,CAA0BC,aAA7C,EAA4D,CAACJ,KAAD,YAAqB;MAAA,IAAb;QAAEK;MAAF,CAAa;;MAC/E,IAAI,CAACA,IAAI,CAACC,SAAV,EAAqB;QACnBN,KAAK,CAACT,KAAN,GAAc,EAAd;QACAS,KAAK,CAACR,WAAN,GAAoB,EAApB;QACAQ,KAAK,CAACX,IAAN,GAAa,EAAb;MACD;IACF,CAND;EAOD;AAzBuB,CAAD,CAAzB;AA4BA,eAAeD,KAAK,CAACmB,OAArB"},"metadata":{},"sourceType":"module"}