{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyectos\\\\NosPremiamos\\\\ReactApp\\\\src\\\\pages\\\\categorias\\\\empleadocategoria\\\\header.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Form } from '@themesberg/react-bootstrap';\nimport { TranslatableText } from '../../../components/translations';\nimport { permissionsKeys } from '../../../utils/permissionsKeys';\nimport PermissionChecker from '../../../components/permissionChecker';\nimport Modal from 'react-bootstrap/Modal';\nimport { useEmpleadosRepresentantesQuery as useGetRepresentantesItemsQuery } from '../../../redux/apis/users';\nimport { useAddMutation } from '../../../redux/apis/empleadoscategorias';\nimport { useFormik } from 'formik';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Header() {\n  _s();\n\n  var _formik$errors$repres, _representantes$DataO;\n\n  const history = useHistory();\n  const [show, setShow] = useState(false);\n  const {\n    data: representantes = []\n  } = useGetRepresentantesItemsQuery();\n  const [add, {\n    isSuccess: isAddSuccess,\n    data: addData,\n    isError: isAddError,\n    error: addError\n  }] = useAddMutation();\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      representante: {\n        id: 0\n      }\n    }\n  });\n\n  const onSaveHandler = () => {\n    console.log(history.location.pathname);\n    var regex = /(\\d+)/g;\n    console.log(history.location.pathname.match(regex));\n    add({\n      EmpleadoId: formik.values.representante.id\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      hidden: !PermissionChecker(permissionsKeys.CATEGORIA_ADD),\n      type: \"button\",\n      onClick: handleShow,\n      children: /*#__PURE__*/_jsxDEV(TranslatableText, {\n        entry: 'Agregar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      backdrop: \"static\",\n      keyboard: false,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Aprobadores\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form.Select, { ...formik.getFieldProps('representante.id'),\n          isInvalid: !!((_formik$errors$repres = formik.errors.representante) !== null && _formik$errors$repres !== void 0 && _formik$errors$repres.id),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"Seleccione un empleado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), representantes === null || representantes === void 0 ? void 0 : (_representantes$DataO = representantes.DataObject) === null || _representantes$DataO === void 0 ? void 0 : _representantes$DataO.map(representante => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: `${representante.Id}`,\n            children: representante.Descripcion\n          }, representante.Id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 70\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          onClick: handleClose,\n          children: /*#__PURE__*/_jsxDEV(TranslatableText, {\n            entry: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          className: \"ms-2\",\n          onClick: onSaveHandler,\n          children: /*#__PURE__*/_jsxDEV(TranslatableText, {\n            entry: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Header, \"7xN7Lp5i45fYKnmQ4TOPjXRHZq4=\", false, function () {\n  return [useHistory, useGetRepresentantesItemsQuery, useAddMutation, useFormik];\n});\n\n_c = Header;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","Button","Form","TranslatableText","permissionsKeys","PermissionChecker","Modal","useEmpleadosRepresentantesQuery","useGetRepresentantesItemsQuery","useAddMutation","useFormik","useHistory","useParams","Header","history","show","setShow","data","representantes","add","isSuccess","isAddSuccess","addData","isError","isAddError","error","addError","handleClose","handleShow","formik","enableReinitialize","initialValues","representante","id","onSaveHandler","console","log","location","pathname","regex","match","EmpleadoId","values","CATEGORIA_ADD","getFieldProps","errors","DataObject","map","Id","Descripcion"],"sources":["C:/Proyectos/NosPremiamos/ReactApp/src/pages/categorias/empleadocategoria/header.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport { Button, Form } from '@themesberg/react-bootstrap';\r\nimport { TranslatableText } from '../../../components/translations';\r\nimport { permissionsKeys } from '../../../utils/permissionsKeys';\r\nimport PermissionChecker from '../../../components/permissionChecker';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { useEmpleadosRepresentantesQuery as useGetRepresentantesItemsQuery} from '../../../redux/apis/users';\r\nimport {useAddMutation} from '../../../redux/apis/empleadoscategorias'\r\nimport { useFormik } from 'formik';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nexport default function Header() { \r\n    const history = useHistory();\r\n    const [show, setShow] = useState(false);\r\n    const { data: representantes = [] } = useGetRepresentantesItemsQuery();\r\n    const [add, { isSuccess: isAddSuccess, data: addData, isError: isAddError, error: addError }] = useAddMutation();\r\n  \r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      representante: {id :0 },\r\n\r\n    }});\r\n\r\n    const onSaveHandler = () => {\r\n        console.log(history.location.pathname);\r\n        var regex = /(\\d+)/g;\r\n        console.log(history.location.pathname.match(regex)); \r\n        add({EmpleadoId: formik.values.representante.id} );\r\n      };\r\n\r\n  return (\r\n      <>\r\n    <Button hidden={!PermissionChecker(permissionsKeys.CATEGORIA_ADD)} type=\"button\" onClick={handleShow}>\r\n    <TranslatableText  entry={'Agregar'} />\r\n  </Button>\r\n  <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Aprobadores</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form.Select {...formik.getFieldProps('representante.id')} isInvalid={!!formik.errors.representante?.id}>\r\n                <option value=\"0\">Seleccione un empleado</option>\r\n                {representantes?.DataObject?.map((representante) => (<option key={representante.Id} value={`${representante.Id}`}>{representante.Descripcion}</option>))}\r\n        </Form.Select>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"outline-primary\" onClick={handleClose}>\r\n          <TranslatableText  entry=\"Cancelar\" />\r\n          </Button>\r\n          <Button type=\"button\" className=\"ms-2\" onClick={onSaveHandler}>\r\n            <TranslatableText  entry=\"Guardar\" />\r\n          </Button>\r\n            \r\n        </Modal.Footer>\r\n      </Modal>\r\n  </>\r\n  );\r\n};"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,6BAA7B;AACA,SAASC,gBAAT,QAAiC,kCAAjC;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,+BAA+B,IAAIC,8BAA5C,QAAiF,2BAAjF;AACA,SAAQC,cAAR,QAA6B,yCAA7B;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;;;AAEA,eAAe,SAASC,MAAT,GAAkB;EAAA;;EAAA;;EAC7B,MAAMC,OAAO,GAAGH,UAAU,EAA1B;EACA,MAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,CAAC,KAAD,CAAhC;EACA,MAAM;IAAEiB,IAAI,EAAEC,cAAc,GAAG;EAAzB,IAAgCV,8BAA8B,EAApE;EACA,MAAM,CAACW,GAAD,EAAM;IAAEC,SAAS,EAAEC,YAAb;IAA2BJ,IAAI,EAAEK,OAAjC;IAA0CC,OAAO,EAAEC,UAAnD;IAA+DC,KAAK,EAAEC;EAAtE,CAAN,IAA0FjB,cAAc,EAA9G;;EAEF,MAAMkB,WAAW,GAAG,MAAMX,OAAO,CAAC,KAAD,CAAjC;;EACA,MAAMY,UAAU,GAAG,MAAMZ,OAAO,CAAC,IAAD,CAAhC;;EACA,MAAMa,MAAM,GAAGnB,SAAS,CAAC;IACvBoB,kBAAkB,EAAE,IADG;IAEvBC,aAAa,EAAE;MACbC,aAAa,EAAE;QAACC,EAAE,EAAE;MAAL;IADF;EAFQ,CAAD,CAAxB;;EAOE,MAAMC,aAAa,GAAG,MAAM;IACxBC,OAAO,CAACC,GAAR,CAAYtB,OAAO,CAACuB,QAAR,CAAiBC,QAA7B;IACA,IAAIC,KAAK,GAAG,QAAZ;IACAJ,OAAO,CAACC,GAAR,CAAYtB,OAAO,CAACuB,QAAR,CAAiBC,QAAjB,CAA0BE,KAA1B,CAAgCD,KAAhC,CAAZ;IACApB,GAAG,CAAC;MAACsB,UAAU,EAAEZ,MAAM,CAACa,MAAP,CAAcV,aAAd,CAA4BC;IAAzC,CAAD,CAAH;EACD,CALH;;EAOF,oBACI;IAAA,wBACF,QAAC,MAAD;MAAQ,MAAM,EAAE,CAAC5B,iBAAiB,CAACD,eAAe,CAACuC,aAAjB,CAAlC;MAAmE,IAAI,EAAC,QAAxE;MAAiF,OAAO,EAAEf,UAA1F;MAAA,uBACA,QAAC,gBAAD;QAAmB,KAAK,EAAE;MAA1B;QAAA;QAAA;QAAA;MAAA;IADA;MAAA;MAAA;MAAA;IAAA,QADE,eAIJ,QAAC,KAAD;MACM,IAAI,EAAEb,IADZ;MAEM,MAAM,EAAEY,WAFd;MAGM,QAAQ,EAAC,QAHf;MAIM,QAAQ,EAAE,KAJhB;MAAA,wBAMM,QAAC,KAAD,CAAO,MAAP;QAAc,WAAW,MAAzB;QAAA,uBACE,QAAC,KAAD,CAAO,KAAP;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QANN,eASM,QAAC,KAAD,CAAO,IAAP;QAAA,uBACA,QAAC,IAAD,CAAM,MAAN,OAAiBE,MAAM,CAACe,aAAP,CAAqB,kBAArB,CAAjB;UAA2D,SAAS,EAAE,CAAC,2BAACf,MAAM,CAACgB,MAAP,CAAcb,aAAf,kDAAC,sBAA6BC,EAA9B,CAAvE;UAAA,wBACQ;YAAQ,KAAK,EAAC,GAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADR,EAESf,cAFT,aAESA,cAFT,gDAESA,cAAc,CAAE4B,UAFzB,0DAES,sBAA4BC,GAA5B,CAAiCf,aAAD,iBAAoB;YAA+B,KAAK,EAAG,GAAEA,aAAa,CAACgB,EAAG,EAA1D;YAAA,UAA8DhB,aAAa,CAACiB;UAA5E,GAAajB,aAAa,CAACgB,EAA3B;YAAA;YAAA;YAAA;UAAA,QAApD,CAFT;QAAA;UAAA;UAAA;UAAA;QAAA;MADA;QAAA;QAAA;QAAA;MAAA,QATN,eAeM,QAAC,KAAD,CAAO,MAAP;QAAA,wBACE,QAAC,MAAD;UAAQ,OAAO,EAAC,iBAAhB;UAAkC,OAAO,EAAErB,WAA3C;UAAA,uBACA,QAAC,gBAAD;YAAmB,KAAK,EAAC;UAAzB;YAAA;YAAA;YAAA;UAAA;QADA;UAAA;UAAA;UAAA;QAAA,QADF,eAIE,QAAC,MAAD;UAAQ,IAAI,EAAC,QAAb;UAAsB,SAAS,EAAC,MAAhC;UAAuC,OAAO,EAAEO,aAAhD;UAAA,uBACE,QAAC,gBAAD;YAAmB,KAAK,EAAC;UAAzB;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QAfN;IAAA;MAAA;MAAA;MAAA;IAAA,QAJI;EAAA,gBADJ;AAgCD;;GAtDuBrB,M;UACJF,U,EAEsBH,8B,EAC0DC,c,EAInFC,S;;;KAROG,M;AAsDvB"},"metadata":{},"sourceType":"module"}